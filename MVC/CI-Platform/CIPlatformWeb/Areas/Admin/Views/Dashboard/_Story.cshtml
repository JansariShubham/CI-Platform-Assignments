@model List<CIPlatform.entities.ViewModels.StoryShareViewModel>
@{
}
<div>
    <div class="border-bottom">
        <div class="head-border pb-3 fs-4">Story</div>
    </div>
    <div class="d-flex justify-content-between">
        <div class="mt-3">
            <input type="search" placeholder="Search" class="form-control" id="searchInput">
        </div>

    </div>
    <div class="table-responsive mt-3">
        <table class="table">
            <thead>
                <tr class="cms-table">
                    <th class="col-4">Story Title</th>
                    <th class="col-3">Full Name</th>
                    <th class="col-2">Mission Title</th>
                 
                    <th class="col-2">Status</th>
                    <th>Action</th>



                </tr>
            </thead>
            <tbody class="">

                @foreach (var story in Model)
                {
                    @if (story.Status != 2)
                    {
                        <tr class="text-secondary font-size">

                            <td> @story.StoryTitle</td>
                            <td>@story.User.FirstName @story.User.LastName</td>
                            <td>@story.Mission.Title</td>


                            @if (story.Status == 1)
                            {
                                <td class="text-success">Approved</td>
                            }
                            @if (story.Status == 0)
                            {
                                <td class="text-danger">Declined</td>
                            }
                             @if (story.Status == 3)
                            {
                                <td class="text-secondary">Pending</td>
                            }





                            <td class="">
                                @if (story.Status == 3)
                                {

                                    <div class="d-flex gap-3">

                                        <a class="btn border story-view-btn rounded-pill orange-btn px-2 font-size" asp-route-id="@story.StoryId" asp-action = "StoryDetail" asp-controller="Dashboard" asp-area="Admin" target="_blank"
                               style="border-color: #F88634 !important">
                                            View
                                        </a>
                                        <a class="approved-btn" data-storyid = "@story.StoryId">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#14C506"
                                     class="bi bi-check-circle" viewBox="0 0 16 16">
                                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z" />
                                            </svg>
                                        </a>
                                        <a  class="decline-btn" data-storyid = "@story.StoryId">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#FF0000"
                                     class="bi bi-x-circle" viewBox="0 0 16 16">
                                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                            </svg>
                                        </a>

                                        <a class="delete-story" data-storyid="@story.StoryId">
                                            <img src="~/images/bin.png" />
                                        </a>
                                    </div>
                                }

                                else
                                {
                                    <div class="d-flex gap-3">
                                    <a class="btn border story-view-btn rounded-pill orange-btn px-2 font-size"
                               style="border-color: #F88634 !important" asp-route-id="@story.StoryId" asp-action="StoryDetail" asp-controller="Dashboard" asp-area="Admin" target="_blank">
                                        View
                                    </a>
                                        <a class="delete-story" data-storyid="@story.StoryId">
                                        <img src="~/images/bin.png" />
                                    </a>

                                        @if (story.Status == 0)
                                        {
                                            <img src="~/images/restore.svg" id="restoreImg" alt="" data-storyid="@story.StoryId" data-status="@story.Status" class="restore-btn">
                                        }
                                    </div>
                                }



                            </td>
                        </tr>
                    }

                }


            </tbody>
        </table>

    </div>
</div>

