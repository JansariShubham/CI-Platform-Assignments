@model List<CIPlatform.entities.ViewModels.MissionApplicationViewModel>
@{
}
<div>
    <div class="border-bottom">
        <div class="head-border pb-3 fs-4">Mission Application</div>
    </div>
    <div class="d-flex justify-content-between">
        <div class="mt-3">
            <input type="search" placeholder="Search" class="form-control" id="searchInput">
        </div>

    </div>
    <div class="table-responsive mt-3">
        <table class="table">
            <thead>
                <tr class="cms-table">
                    <th>Mission Title</th>
                    <th>Mission Id</th>
                    <th>User Id</th>
                    <th>User Name</th>
                    <th>Applied Date</th>
                    <th>Status</th>
                    <th>Action</th>



                </tr>
            </thead>
            <tbody class="">

                @foreach(var missionApp in Model)
                {
                    <tr class="text-secondary font-size">

                        <td> @missionApp.Mission.Title</td>
                        <td>@missionApp.MissionId</td>
                        <td>@missionApp.UserId</td>
                        <td>@missionApp.User.FirstName @missionApp.User.LastName</td>
                        <td>@missionApp.AppliedAt?.ToString("d")</td>
                        @if (@missionApp.ApprovalStatus == 1)
                        {
                            <td class="text-success">Approved</td>
                        }
                        else if (@missionApp.ApprovalStatus == 0)
                        {
                            <td class="text-danger">Declined</td>
                        }
                        else
                        
                        {
                            <td class="text-secondary">Pending</td>
                        }


                        


                        <td class="">
                            @if (missionApp.ApprovalStatus == 2)
                            {
                                <div class="d-flex gap-3">
                                    <a class="approved-btn" data-applicationid="@missionApp.MissionApplicationId">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#14C506"
                                     class="bi bi-check-circle" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                            <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z" />
                                        </svg>
                                    </a>
                                    <a data-applicationid="@missionApp.MissionApplicationId" class="decline-btn">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#FF0000"
                                     class="bi bi-x-circle" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                        </svg>
                                    </a>

                                </div>
                            }

                        </td>
                    </tr>
                

                    }


            </tbody>
        </table>

    </div>
</div>

