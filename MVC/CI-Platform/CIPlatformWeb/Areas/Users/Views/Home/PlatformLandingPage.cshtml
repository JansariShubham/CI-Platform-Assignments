@model CIPlatform.entities.ViewModels.IndexViewModel;

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var UserName = Context.Session.GetString("firstName");
    var userId = Context.Session.GetString("userId");
    var missionCnt = ViewBag.missionCnt;
}
@*@if (TempData["EditProfileSuccess"] != null)
    {
    <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <script>
    toastr.success('@TempData["EditProfileSuccess"]');
    </script>
    }*@

<input type="hidden" value="@TempData["EditProfileSuccess"]" id="editProfileSuccess" />
 <partial name="_Navbar" />
<section class="d-flex second-div mt-4">
    <div class="container">
        <div class="d-flex row p-0">
            <div class="col-10 col-md-11 col-lg-6">
                <div class="p-3 search-div d-flex gap-3">
                    <img class="search-img mt-1" src="~/images/search.png"
                         alt="#">
                    <input type="text" id="search-bar" class="search-bar form-control border-0 p-0"
                           placeholder="Search mission...">
                </div>
            </div>
            <!-- filter button -->
            <button class="col d-lg-none filter-btn border-0">
                <img src="~/images/filter.png" alt="#">
            </button>
            <!-- filter menu -->
            <div class="col-6 m-0  filter-div" >
                <div class="row d-lg-flex " id="filter-menu">
                    <div class="col-lg-3 p-3">
                        <select id="country-filter" class="form-select select-group">
                            <option value="1" selected disabled>Country</option>
                             @foreach(var country in Model.CountryList)
                            {
                                <option value="@country.CountryId">@country.Name</option>
                               
                            }


                        </select>
                    </div>
                    <div class="col-lg-3 p-3 city-div">
                        <select id="city-filter" class="form-select select-group" >
                           
                            <option value="1" selected disabled>City</option>
                           @foreach (var cities in Model.CityList)
                            {
                             @*<option value="CityName">@cities.Name</option>*@
                            }
                        </select>
                    </div>
                    <div class=" col-lg-3 p-3">
                        <select id="theme-filter" class="form-select select-group" >
                            <option value="1" selected disabled>Theme</option>
                            @foreach (var themes in Model.ThemeList)
                            {
                                <option value="@themes.MissionThemeId">@themes.Title</option>
                            }
                        </select>
                    </div>
                    <div class="col-lg-3 p-3">
                        <select class="form-select select-group" id="skill-filter">
                            <option value="1" selected disabled>Skills</option>
                            @foreach (var skills in Model.SkillsList)
                            {
                                <option value="@skills.SkillId">@skills.SkillName</option>
                            }
                        </select>
                    </div>
                </div>
            </div>
        </div>
        </div>
</section>
<input type="hidden" value="@missionCnt" id="missionCountLanding" />
<!-- third section  -->
<section class="d-none d-md-inline">
    <div class="third-div container d-none" id="filterOptionArea">
        <ul class="d-flex gap-2 flex-wrap mt-3" id="userFilterList">
        </ul>
        <button class="border-0 clear-btn">Clear All</button>
    </div>

</section>

<!-- forth section  -->
<section class="mt-3">
    <div class="d-flex container forth-div justify-content-between flex-wrap">
        <div class="d-flex gap-1">
            Explore<span id="filterMissions"> </span> missions
        </div>
        <div class="d-flex">

            <select class="form-select select-btn" id="sortByFilter">
                <option selected disabled>Sort by</option>
                <option value="1">Newest</option>
                <option value="2">Oldest</option>
                <option value="3">Lowest available seats</option>
                <option value="4">Highest available seats</option>
                @if (UserName != null)
                {

                    <option value="5">Sort by my favourate</option>
                }
                <option value="6">Sort by deadline</option>
            </select>
            <button class="grid-btn d-none d-md-block">
                <img class="grid-img h-100 w-100" src="~/images/grid.png"
                     alt="#">
            </button>
            <button class="list-btn d-none d-md-block">
                <img class="list-img h-75 w-100" src="~/images/list.png"
                     alt="#">
            </button>
        </div>

    </div>
</section>

<div id="partial"> <partial name="_index" /> </div>
<!-- Pagination  -->

<ul class="pagination mt-5 d-flex justify-content-center">
   
</ul>



<partial name="_Footer" />
@section scripts{
    <script src="~/js/custom.js"/>
<script>
           var tempData =  document.getElementById("editProfileSuccess").value;
           console.log(tempData);
           if(tempData != "")
           {
               Swal.fire(
                            'Profile Updated Successfully!',
                            'You clicked the button!',
                            'success'
                        )
           }
           sideBar();
           function sideBar(){
             
              
            //var list = document.getElementById("toggleDrop");
            //var dropDown = document.getElementById("showToggle");

            //list.addEventListener("click", () => {
                
            //    dropDown.classList.toggle("d-none")
            //});

            //var closeBtn = document.getElementById("closeSidebar");
            //closeBtn.addEventListener("click", () => {

            //    dropDown.classList.add("d-none");
            //})
           }
</script>


}